{"ast":null,"code":"/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nimport { sha3Raw } from 'web3-utils';\n// eslint-disable-next-line camelcase\nimport { ens_normalize } from '@adraffy/ens-normalize';\nexport var normalize = function normalize(name) {\n  return ens_normalize(name);\n};\nexport var namehash = function namehash(inputName) {\n  // Reject empty names:\n  var node = '';\n  for (var i = 0; i < 32; i += 1) {\n    node += '00';\n  }\n  if (inputName) {\n    var name = normalize(inputName);\n    var labels = name.split('.');\n    for (var _i = labels.length - 1; _i >= 0; _i -= 1) {\n      var labelSha = sha3Raw(labels[_i]).slice(2);\n      node = sha3Raw(\"0x\".concat(node).concat(labelSha)).slice(2);\n    }\n  }\n  return \"0x\".concat(node);\n};","map":{"version":3,"names":["sha3Raw","ens_normalize","normalize","name","namehash","inputName","node","i","labels","split","length","labelSha","slice","concat"],"sources":["D:\\projects\\react\\wen-base\\node_modules\\web3-eth-ens\\src\\utils.ts"],"sourcesContent":["ï»¿/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nimport { sha3Raw } from 'web3-utils';\n// eslint-disable-next-line camelcase\nimport { ens_normalize } from '@adraffy/ens-normalize';\n\nexport const normalize = (name: string) => ens_normalize(name);\n\nexport const namehash = (inputName: string) => {\n\t// Reject empty names:\n\tlet node = '';\n\tfor (let i = 0; i < 32; i += 1) {\n\t\tnode += '00';\n\t}\n\n\tif (inputName) {\n\t\tconst name = normalize(inputName);\n\t\tconst labels = name.split('.');\n\n\t\tfor (let i = labels.length - 1; i >= 0; i -= 1) {\n\t\t\tconst labelSha = sha3Raw(labels[i]).slice(2);\n\t\t\tnode = sha3Raw(`0x${node}${labelSha}`).slice(2);\n\t\t}\n\t}\n\n\treturn `0x${node}`;\n};\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;AAiBA,SAASA,OAAO,QAAQ,YAAY;AACpC;AACA,SAASC,aAAa,QAAQ,wBAAwB;AAEtD,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAIC,IAAY;EAAA,OAAKF,aAAa,CAACE,IAAI,CAAC;AAAA;AAE9D,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,SAAiB,EAAI;EAC7C;EACA,IAAIC,IAAI,GAAG,EAAE;EACb,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,IAAI,CAAC,EAAE;IAC/BD,IAAI,IAAI,IAAI;;EAGb,IAAID,SAAS,EAAE;IACd,IAAMF,IAAI,GAAGD,SAAS,CAACG,SAAS,CAAC;IACjC,IAAMG,MAAM,GAAGL,IAAI,CAACM,KAAK,CAAC,GAAG,CAAC;IAE9B,KAAK,IAAIF,EAAC,GAAGC,MAAM,CAACE,MAAM,GAAG,CAAC,EAAEH,EAAC,IAAI,CAAC,EAAEA,EAAC,IAAI,CAAC,EAAE;MAC/C,IAAMI,QAAQ,GAAGX,OAAO,CAACQ,MAAM,CAACD,EAAC,CAAC,CAAC,CAACK,KAAK,CAAC,CAAC,CAAC;MAC5CN,IAAI,GAAGN,OAAO,MAAAa,MAAA,CAAMP,IAAI,EAAAO,MAAA,CAAGF,QAAQ,CAAE,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC;;;EAIjD,YAAAC,MAAA,CAAYP,IAAI;AACjB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}