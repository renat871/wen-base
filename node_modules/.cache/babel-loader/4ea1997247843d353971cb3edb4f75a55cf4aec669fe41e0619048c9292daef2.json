{"ast":null,"code":"import _classCallCheck from \"D:/projects/react/wen-base/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/projects/react/wen-base/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"D:/projects/react/wen-base/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"D:/projects/react/wen-base/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"D:/projects/react/wen-base/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"D:/projects/react/wen-base/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nimport { BaseWeb3Error } from '../web3_error_base.js';\nimport { ERR_INVALID_RESPONSE, ERR_RESPONSE } from '../error_codes.js';\n// To avoid circular package dependency, copied to code here. If you update this please update same function in `json_rpc.ts`\nvar isResponseWithError = function isResponseWithError(response) {\n  return !Array.isArray(response) && response.jsonrpc === '2.0' && !!response && (\n  // eslint-disable-next-line no-null/no-null\n  response.result === undefined || response.result === null) &&\n  // JSON RPC consider \"null\" as valid response\n  'error' in response && (typeof response.id === 'number' || typeof response.id === 'string');\n};\nvar buildErrorMessage = function buildErrorMessage(response) {\n  return isResponseWithError(response) ? response.error.message : '';\n};\nexport var ResponseError = /*#__PURE__*/function (_BaseWeb3Error) {\n  _inherits(ResponseError, _BaseWeb3Error);\n  var _super = _createSuper(ResponseError);\n  function ResponseError(response, message, request) {\n    var _this;\n    _classCallCheck(this, ResponseError);\n    var _a;\n    _this = _super.call(this, message !== null && message !== void 0 ? message : \"Returned error: \".concat(Array.isArray(response) ? response.map(function (r) {\n      return buildErrorMessage(r);\n    }).join(',') : buildErrorMessage(response)));\n    _this.code = ERR_RESPONSE;\n    if (!message) {\n      _this.data = Array.isArray(response) ? response.map(function (r) {\n        var _a;\n        return (_a = r.error) === null || _a === void 0 ? void 0 : _a.data;\n      }) : (_a = response === null || response === void 0 ? void 0 : response.error) === null || _a === void 0 ? void 0 : _a.data;\n    }\n    _this.request = request;\n    var errorOrErrors;\n    if (\"error\" in response) {\n      errorOrErrors = response.error;\n    } else if (response instanceof Array) {\n      errorOrErrors = response.map(function (r) {\n        return r.error;\n      });\n    }\n    _this.innerError = errorOrErrors;\n    return _this;\n  }\n  _createClass(ResponseError, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return Object.assign(Object.assign({}, _get(_getPrototypeOf(ResponseError.prototype), \"toJSON\", this).call(this)), {\n        data: this.data,\n        request: this.request\n      });\n    }\n  }]);\n  return ResponseError;\n}(BaseWeb3Error);\nexport var InvalidResponseError = /*#__PURE__*/function (_ResponseError) {\n  _inherits(InvalidResponseError, _ResponseError);\n  var _super2 = _createSuper(InvalidResponseError);\n  function InvalidResponseError(result, request) {\n    var _this2;\n    _classCallCheck(this, InvalidResponseError);\n    _this2 = _super2.call(this, result, undefined, request);\n    _this2.code = ERR_INVALID_RESPONSE;\n    var errorOrErrors;\n    if (\"error\" in result) {\n      errorOrErrors = result.error;\n    } else if (result instanceof Array) {\n      errorOrErrors = result.map(function (r) {\n        return r.error;\n      });\n    }\n    _this2.innerError = errorOrErrors;\n    return _this2;\n  }\n  return _createClass(InvalidResponseError);\n}(ResponseError);","map":{"version":3,"names":["BaseWeb3Error","ERR_INVALID_RESPONSE","ERR_RESPONSE","isResponseWithError","response","Array","isArray","jsonrpc","result","undefined","id","buildErrorMessage","error","message","ResponseError","_BaseWeb3Error","_inherits","_super","_createSuper","request","_this","_classCallCheck","call","concat","map","r","join","code","data","_a","errorOrErrors","innerError","_createClass","key","value","toJSON","Object","assign","_get","_getPrototypeOf","prototype","InvalidResponseError","_ResponseError","_super2","_this2"],"sources":["D:\\projects\\react\\wen-base\\node_modules\\web3-errors\\src\\errors\\response_errors.ts"],"sourcesContent":["/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\n// eslint-disable-next-line max-classes-per-file\nimport {\n\tJsonRpcError,\n\tJsonRpcPayload,\n\tJsonRpcResponse,\n\tJsonRpcResponseWithError,\n} from 'web3-types';\nimport { BaseWeb3Error } from '../web3_error_base.js';\nimport { ERR_INVALID_RESPONSE, ERR_RESPONSE } from '../error_codes.js';\n\n// To avoid circular package dependency, copied to code here. If you update this please update same function in `json_rpc.ts`\nconst isResponseWithError = <Error = unknown, Result = unknown>(\n\tresponse: JsonRpcResponse<Result, Error>,\n): response is JsonRpcResponseWithError<Error> =>\n\t!Array.isArray(response) &&\n\tresponse.jsonrpc === '2.0' &&\n\t!!response &&\n\t// eslint-disable-next-line no-null/no-null\n\t(response.result === undefined || response.result === null) &&\n\t// JSON RPC consider \"null\" as valid response\n\t'error' in response &&\n\t(typeof response.id === 'number' || typeof response.id === 'string');\n\nconst buildErrorMessage = (response: JsonRpcResponse<unknown, unknown>): string =>\n\tisResponseWithError(response) ? response.error.message : '';\n\nexport class ResponseError<ErrorType = unknown, RequestType = unknown> extends BaseWeb3Error {\n\tpublic code = ERR_RESPONSE;\n\tpublic data?: ErrorType | ErrorType[];\n\tpublic request?: JsonRpcPayload<RequestType>;\n\n\tpublic constructor(\n\t\tresponse: JsonRpcResponse<unknown, ErrorType>,\n\t\tmessage?: string,\n\t\trequest?: JsonRpcPayload<RequestType>,\n\t) {\n\t\tsuper(\n\t\t\tmessage ??\n\t\t\t\t`Returned error: ${\n\t\t\t\t\tArray.isArray(response)\n\t\t\t\t\t\t? response.map(r => buildErrorMessage(r)).join(',')\n\t\t\t\t\t\t: buildErrorMessage(response)\n\t\t\t\t}`,\n\t\t);\n\n\t\tif (!message) {\n\t\t\tthis.data = Array.isArray(response)\n\t\t\t\t? response.map(r => r.error?.data as ErrorType)\n\t\t\t\t: response?.error?.data;\n\t\t}\n\n\t\tthis.request = request;\n\t\tlet errorOrErrors: JsonRpcError | JsonRpcError[] | undefined;\n\t\tif (`error` in response) {\n\t\t\terrorOrErrors = response.error as JsonRpcError;\n\t\t} else if (response instanceof Array) {\n\t\t\terrorOrErrors = response.map(r => r.error) as JsonRpcError[];\n\t\t}\n\n\t\tthis.innerError = errorOrErrors as Error | Error[] | undefined;\n\t}\n\n\tpublic toJSON() {\n\t\treturn { ...super.toJSON(), data: this.data, request: this.request };\n\t}\n}\n\nexport class InvalidResponseError<ErrorType = unknown, RequestType = unknown> extends ResponseError<\n\tErrorType,\n\tRequestType\n> {\n\tpublic constructor(\n\t\tresult: JsonRpcResponse<unknown, ErrorType>,\n\t\trequest?: JsonRpcPayload<RequestType>,\n\t) {\n\t\tsuper(result, undefined, request);\n\t\tthis.code = ERR_INVALID_RESPONSE;\n\t\tlet errorOrErrors: JsonRpcError | JsonRpcError[] | undefined;\n\t\tif (`error` in result) {\n\t\t\terrorOrErrors = result.error as JsonRpcError;\n\t\t} else if (result instanceof Array) {\n\t\t\terrorOrErrors = result.map(r => r.error) as JsonRpcError[];\n\t\t}\n\n\t\tthis.innerError = errorOrErrors as Error | Error[] | undefined;\n\t}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}