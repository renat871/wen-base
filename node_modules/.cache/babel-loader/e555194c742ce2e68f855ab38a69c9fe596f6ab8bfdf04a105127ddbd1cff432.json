{"ast":null,"code":"import _regeneratorRuntime from \"D:/projects/react/wen-base/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _classCallCheck from \"D:/projects/react/wen-base/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/projects/react/wen-base/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"D:/projects/react/wen-base/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"D:/projects/react/wen-base/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n// eslint-disable-next-line max-classes-per-file\nimport { DEFAULT_RETURN_FORMAT } from 'web3-types';\nimport { jsonRpc } from 'web3-utils';\nimport { SubscriptionError } from 'web3-errors';\n// eslint-disable-next-line import/no-cycle\nimport { Web3SubscriptionManager } from './web3_subscription_manager.js';\nimport { Web3EventEmitter } from './web3_event_emitter.js';\nexport var Web3Subscription = /*#__PURE__*/function (_Web3EventEmitter) {\n  _inherits(Web3Subscription, _Web3EventEmitter);\n  var _super = _createSuper(Web3Subscription);\n  function Web3Subscription(args, options) {\n    var _this;\n    _classCallCheck(this, Web3Subscription);\n    var _a;\n    _this = _super.call(this);\n    _this.args = args;\n    var requestManager = options.requestManager;\n    var subscriptionManager = options.subscriptionManager;\n    if (requestManager && subscriptionManager) {\n      throw new SubscriptionError('Only requestManager or subscriptionManager should be provided at Subscription constructor');\n    }\n    if (!requestManager && !subscriptionManager) {\n      throw new SubscriptionError('Either requestManager or subscriptionManager should be provided at Subscription constructor');\n    }\n    if (requestManager) {\n      // eslint-disable-next-line deprecation/deprecation\n      _this._subscriptionManager = new Web3SubscriptionManager(requestManager, {}, true);\n    } else {\n      _this._subscriptionManager = subscriptionManager;\n    }\n    _this._returnFormat = (_a = options === null || options === void 0 ? void 0 : options.returnFormat) !== null && _a !== void 0 ? _a : DEFAULT_RETURN_FORMAT;\n    return _this;\n  }\n  _createClass(Web3Subscription, [{\n    key: \"id\",\n    get: function get() {\n      return this._id;\n    }\n  }, {\n    key: \"lastBlock\",\n    get: function get() {\n      return this._lastBlock;\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", this._subscriptionManager.addSubscription(this));\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"processSubscriptionData\",\n    value: function processSubscriptionData(data) {\n      var _a, _b;\n      if (data === null || data === void 0 ? void 0 : data.data) {\n        // for EIP-1193 provider\n        this._processSubscriptionResult((_b = (_a = data === null || data === void 0 ? void 0 : data.data) === null || _a === void 0 ? void 0 : _a.result) !== null && _b !== void 0 ? _b : data === null || data === void 0 ? void 0 : data.data);\n      } else if (data && jsonRpc.isResponseWithNotification(data)) {\n        this._processSubscriptionResult(data === null || data === void 0 ? void 0 : data.params.result);\n      }\n    }\n  }, {\n    key: \"sendSubscriptionRequest\",\n    value: function sendSubscriptionRequest() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this._subscriptionManager.requestManager.send({\n                method: 'eth_subscribe',\n                params: this._buildSubscriptionParams()\n              });\n            case 2:\n              this._id = _context2.sent;\n              this.emit('connected', this._id);\n              return _context2.abrupt(\"return\", this._id);\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"returnFormat\",\n    get: function get() {\n      return this._returnFormat;\n    }\n  }, {\n    key: \"subscriptionManager\",\n    get: function get() {\n      return this._subscriptionManager;\n    }\n  }, {\n    key: \"resubscribe\",\n    value: function resubscribe() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.unsubscribe();\n            case 2:\n              _context3.next = 4;\n              return this.subscribe();\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              if (this.id) {\n                _context4.next = 2;\n                break;\n              }\n              return _context4.abrupt(\"return\");\n            case 2:\n              _context4.next = 4;\n              return this._subscriptionManager.removeSubscription(this);\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n    }\n  }, {\n    key: \"sendUnsubscribeRequest\",\n    value: function sendUnsubscribeRequest() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return this._subscriptionManager.requestManager.send({\n                method: 'eth_unsubscribe',\n                params: [this.id]\n              });\n            case 2:\n              this._id = undefined;\n            case 3:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n    }\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: \"formatSubscriptionResult\",\n    value: function formatSubscriptionResult(data) {\n      return data;\n    }\n  }, {\n    key: \"_processSubscriptionResult\",\n    value: function _processSubscriptionResult(data) {\n      this.emit('data', this.formatSubscriptionResult(data));\n    }\n  }, {\n    key: \"_processSubscriptionError\",\n    value: function _processSubscriptionError(error) {\n      this.emit('error', error);\n    }\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: \"_buildSubscriptionParams\",\n    value: function _buildSubscriptionParams() {\n      // This should be overridden in the subclass\n      throw new Error('Implement in the child class');\n    }\n  }]);\n  return Web3Subscription;\n}(Web3EventEmitter);","map":{"version":3,"names":["DEFAULT_RETURN_FORMAT","jsonRpc","SubscriptionError","Web3SubscriptionManager","Web3EventEmitter","Web3Subscription","_Web3EventEmitter","_inherits","_super","_createSuper","args","options","_this","_classCallCheck","call","requestManager","subscriptionManager","_subscriptionManager","_returnFormat","_a","returnFormat","_createClass","key","get","_id","_lastBlock","value","subscribe","addSubscription","_context","stop","_callee","processSubscriptionData","data","_processSubscriptionResult","_b","result","isResponseWithNotification","params","sendSubscriptionRequest","send","method","_buildSubscriptionParams","_context2","sent","emit","abrupt","_callee2","resubscribe","unsubscribe","_context3","next","_callee3","id","_context4","removeSubscription","_callee4","sendUnsubscribeRequest","undefined","_context5","_callee5","formatSubscriptionResult","_processSubscriptionError","error","Error"],"sources":["D:\\projects\\react\\wen-base\\node_modules\\web3-core\\src\\web3_subscriptions.ts"],"sourcesContent":["ï»¿/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\n// eslint-disable-next-line max-classes-per-file\nimport {\n\tBlockOutput,\n\tDEFAULT_RETURN_FORMAT,\n\tDataFormat,\n\tEthExecutionAPI,\n\tJsonRpcSubscriptionResult,\n\tJsonRpcSubscriptionResultOld,\n\tJsonRpcNotification,\n\tLog,\n\tHexString,\n\tWeb3APIParams,\n\tWeb3APISpec,\n} from 'web3-types';\nimport { jsonRpc } from 'web3-utils';\nimport { SubscriptionError } from 'web3-errors';\n\n// eslint-disable-next-line import/no-cycle\nimport { Web3SubscriptionManager } from './web3_subscription_manager.js';\nimport { Web3EventEmitter, Web3EventMap } from './web3_event_emitter.js';\nimport { Web3RequestManager } from './web3_request_manager.js';\n\ntype CommonSubscriptionEvents = {\n\tdata: unknown; // Fires on each incoming block header.\n\terror: Error; // Fires when an error in the subscription occurs.\n\tconnected: string; // Fires once after the subscription successfully connected. Returns the subscription id.\n};\n\nexport abstract class Web3Subscription<\n\tEventMap extends Web3EventMap,\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tArgsType = any,\n\tAPI extends Web3APISpec = EthExecutionAPI,\n\t// The following generic type is just to define the type `CombinedEventMap` and use it inside the class\n\t// \tit combines the user passed `EventMap` with the `CommonSubscriptionEvents`\n\t//\tHowever, this type definition could be refactored depending on the closure of\n\t//\t[Permit type alias declarations inside a class](https://github.com/microsoft/TypeScript/issues/7061)\n\tCombinedEventMap extends CommonSubscriptionEvents = EventMap & CommonSubscriptionEvents,\n> extends Web3EventEmitter<CombinedEventMap> {\n\tprivate readonly _subscriptionManager: Web3SubscriptionManager<API>;\n\tprivate readonly _lastBlock?: BlockOutput;\n\tprivate readonly _returnFormat: DataFormat;\n\tprotected _id?: HexString;\n\n\tpublic constructor(\n\t\targs: ArgsType,\n\t\toptions: { subscriptionManager: Web3SubscriptionManager; returnFormat?: DataFormat },\n\t);\n\t/**\n\t * @deprecated This constructor overloading should not be used\n\t */\n\tpublic constructor(\n\t\targs: ArgsType,\n\t\toptions: { requestManager: Web3RequestManager<API>; returnFormat?: DataFormat },\n\t);\n\tpublic constructor(\n\t\tpublic readonly args: ArgsType,\n\t\toptions: (\n\t\t\t| { subscriptionManager: Web3SubscriptionManager }\n\t\t\t| { requestManager: Web3RequestManager<API> }\n\t\t) & {\n\t\t\treturnFormat?: DataFormat;\n\t\t},\n\t) {\n\t\tsuper();\n\t\tconst { requestManager } = options as { requestManager: Web3RequestManager<API> };\n\t\tconst { subscriptionManager } = options as { subscriptionManager: Web3SubscriptionManager };\n\t\tif (requestManager && subscriptionManager) {\n\t\t\tthrow new SubscriptionError(\n\t\t\t\t'Only requestManager or subscriptionManager should be provided at Subscription constructor',\n\t\t\t);\n\t\t}\n\t\tif (!requestManager && !subscriptionManager) {\n\t\t\tthrow new SubscriptionError(\n\t\t\t\t'Either requestManager or subscriptionManager should be provided at Subscription constructor',\n\t\t\t);\n\t\t}\n\t\tif (requestManager) {\n\t\t\t// eslint-disable-next-line deprecation/deprecation\n\t\t\tthis._subscriptionManager = new Web3SubscriptionManager(requestManager, {}, true);\n\t\t} else {\n\t\t\tthis._subscriptionManager = subscriptionManager;\n\t\t}\n\n\t\tthis._returnFormat = options?.returnFormat ?? (DEFAULT_RETURN_FORMAT as DataFormat);\n\t}\n\n\tpublic get id() {\n\t\treturn this._id;\n\t}\n\n\tpublic get lastBlock() {\n\t\treturn this._lastBlock;\n\t}\n\n\tpublic async subscribe(): Promise<string> {\n\t\treturn this._subscriptionManager.addSubscription(this);\n\t}\n\n\tpublic processSubscriptionData(\n\t\tdata:\n\t\t\t| JsonRpcSubscriptionResult\n\t\t\t| JsonRpcSubscriptionResultOld<Log>\n\t\t\t| JsonRpcNotification<Log>,\n\t) {\n\t\tif (data?.data) {\n\t\t\t// for EIP-1193 provider\n\t\t\tthis._processSubscriptionResult(data?.data?.result ?? data?.data);\n\t\t} else if (\n\t\t\tdata &&\n\t\t\tjsonRpc.isResponseWithNotification(\n\t\t\t\tdata as unknown as JsonRpcSubscriptionResult | JsonRpcNotification<Log>,\n\t\t\t)\n\t\t) {\n\t\t\tthis._processSubscriptionResult(data?.params.result);\n\t\t}\n\t}\n\n\tpublic async sendSubscriptionRequest(): Promise<string> {\n\t\tthis._id = await this._subscriptionManager.requestManager.send({\n\t\t\tmethod: 'eth_subscribe',\n\t\t\tparams: this._buildSubscriptionParams(),\n\t\t});\n\n\t\tthis.emit('connected', this._id);\n\t\treturn this._id;\n\t}\n\n\tprotected get returnFormat() {\n\t\treturn this._returnFormat;\n\t}\n\n\tprotected get subscriptionManager() {\n\t\treturn this._subscriptionManager;\n\t}\n\n\tpublic async resubscribe() {\n\t\tawait this.unsubscribe();\n\t\tawait this.subscribe();\n\t}\n\n\tpublic async unsubscribe() {\n\t\tif (!this.id) {\n\t\t\treturn;\n\t\t}\n\n\t\tawait this._subscriptionManager.removeSubscription(this);\n\t}\n\n\tpublic async sendUnsubscribeRequest() {\n\t\tawait this._subscriptionManager.requestManager.send({\n\t\t\tmethod: 'eth_unsubscribe',\n\t\t\tparams: [this.id] as Web3APIParams<API, 'eth_unsubscribe'>,\n\t\t});\n\t\tthis._id = undefined;\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tprotected formatSubscriptionResult(data: CombinedEventMap['data']) {\n\t\treturn data;\n\t}\n\n\tpublic _processSubscriptionResult(data: CombinedEventMap['data'] | unknown) {\n\t\tthis.emit('data', this.formatSubscriptionResult(data));\n\t}\n\n\tpublic _processSubscriptionError(error: Error) {\n\t\tthis.emit('error', error);\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tprotected _buildSubscriptionParams(): Web3APIParams<API, 'eth_subscribe'> {\n\t\t// This should be overridden in the subclass\n\t\tthrow new Error('Implement in the child class');\n\t}\n}\n\nexport type Web3SubscriptionConstructor<\n\tAPI extends Web3APISpec,\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tSubscriptionType extends Web3Subscription<any, any, API> = Web3Subscription<any, any, API>,\n> =\n\t| (new (\n\t\t\t// We accept any type of arguments here and don't deal with this type internally\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\targs: any,\n\t\t\toptions:\n\t\t\t\t| { subscriptionManager: Web3SubscriptionManager<API>; returnFormat?: DataFormat }\n\t\t\t\t| { requestManager: Web3RequestManager<API>; returnFormat?: DataFormat },\n\t  ) => SubscriptionType)\n\t| (new (\n\t\t\targs: any,\n\t\t\toptions: {\n\t\t\t\tsubscriptionManager: Web3SubscriptionManager<API>;\n\t\t\t\treturnFormat?: DataFormat;\n\t\t\t},\n\t  ) => SubscriptionType)\n\t| (new (\n\t\t\targs: any,\n\t\t\toptions: { requestManager: Web3RequestManager<API>; returnFormat?: DataFormat },\n\t  ) => SubscriptionType);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}